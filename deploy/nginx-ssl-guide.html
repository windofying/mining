<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nginx SSL é…ç½®æŒ‡å— - Mining Depot USA</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            background: #28a745;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        .step-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        .step-title {
            color: #28a745;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .step-content {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 10px 0;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .action-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            text-decoration: none;
            display: inline-block;
        }
        .action-button:hover {
            background: #0056b3;
        }
        .checklist {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .checklist-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .checklist-item:last-child {
            border-bottom: none;
        }
        .checklist-icon {
            margin-right: 10px;
            font-size: 18px;
        }
        .nginx-specific {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ Nginx SSL é…ç½®æŒ‡å—</h1>
            <p>Mining Depot USA, Inc. - NginxæœåŠ¡å™¨SSLé…ç½®è§£å†³æ–¹æ¡ˆ</p>
        </div>

        <div class="nginx-specific">
            <h3>ğŸ”„ é‡è¦è¯´æ˜</h3>
            <p>æ‚¨çš„æœåŠ¡å™¨ä½¿ç”¨ <strong>Nginx</strong> è€Œä¸æ˜¯ Apacheï¼Œå› æ­¤éœ€è¦ä¸åŒçš„é…ç½®æ–¹æ³•ï¼š</p>
            <ul>
                <li>âŒ .htaccess æ–‡ä»¶åœ¨ Nginx ä¸­ä¸èµ·ä½œç”¨</li>
                <li>âœ… éœ€è¦ä½¿ç”¨ nginx.conf é…ç½®æ–‡ä»¶</li>
                <li>âœ… SSL é…ç½®åœ¨ server å—ä¸­è®¾ç½®</li>
                <li>âœ… é‡å®šå‘è§„åˆ™ä½¿ç”¨ return æŒ‡ä»¤</li>
            </ul>
        </div>

        <div class="step-card">
            <div class="step-title">æ­¥éª¤ 1: è·å–SSLè¯ä¹¦</div>
            <div class="step-content">
                <h4>1.1 ä½¿ç”¨Let's Encrypt (æ¨è)</h4>
                <p>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
                <div class="code-block">
# å®‰è£… certbot
sudo apt update
sudo apt install certbot python3-certbot-nginx

# è·å–SSLè¯ä¹¦
sudo certbot --nginx -d mining-depot.com -d www.mining-depot.com

# æµ‹è¯•è‡ªåŠ¨ç»­æœŸ
sudo certbot renew --dry-run
                </div>
            </div>
            <div class="step-content">
                <h4>1.2 æ‰‹åŠ¨é…ç½®è¯ä¹¦</h4>
                <p>å¦‚æœæ‚¨æœ‰è¯ä¹¦æ–‡ä»¶ï¼Œéœ€è¦ï¼š</p>
                <p>1. å°†è¯ä¹¦æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨</p>
                <p>2. åœ¨ nginx.conf ä¸­æŒ‡å®šè¯ä¹¦è·¯å¾„</p>
                <p>3. é‡å¯ Nginx æœåŠ¡</p>
            </div>
        </div>

        <div class="step-card">
            <div class="step-title">æ­¥éª¤ 2: é…ç½®Nginx</div>
            <div class="step-content">
                <h4>2.1 åˆ›å»ºé…ç½®æ–‡ä»¶</h4>
                <p>å°†æä¾›çš„ nginx.conf æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š</p>
                <div class="code-block">
# é€šå¸¸ä½ç½®
/etc/nginx/sites-available/mining-depot.com
                </div>
            </div>
            <div class="step-content">
                <h4>2.2 å¯ç”¨ç«™ç‚¹</h4>
                <div class="code-block">
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/mining-depot.com /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯Nginx
sudo systemctl restart nginx
                </div>
            </div>
            <div class="step-content">
                <h4>2.3 æ›´æ–°è¯ä¹¦è·¯å¾„</h4>
                <p>åœ¨ nginx.conf ä¸­æ›´æ–°è¯ä¹¦è·¯å¾„ï¼š</p>
                <div class="code-block">
# æ›´æ–°è¿™äº›è¡Œ
ssl_certificate /etc/letsencrypt/live/mining-depot.com/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/mining-depot.com/privkey.pem;
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-title">æ­¥éª¤ 3: ä¸Šä¼ ç½‘ç«™æ–‡ä»¶</div>
            <div class="step-content">
                <h4>3.1 å‡†å¤‡æ–‡ä»¶</h4>
                <p>1. è¿è¡Œéƒ¨ç½²è„šæœ¬: <code>deploy.bat</code></p>
                <p>2. ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ <code>deploy\</code> ç›®å½•ä¸­</p>
                <p>3. æ³¨æ„ï¼šä¸éœ€è¦ .htaccess æ–‡ä»¶</p>
            </div>
            <div class="step-content">
                <h4>3.2 ä¸Šä¼ åˆ°æœåŠ¡å™¨</h4>
                <p>ä½¿ç”¨SCPæˆ–SFTPä¸Šä¼ æ–‡ä»¶ï¼š</p>
                <div class="code-block">
# ä½¿ç”¨SCPä¸Šä¼ 
scp -r deploy/* user@your-server:/var/www/html/

# æˆ–ä½¿ç”¨SFTP
sftp user@your-server
put -r deploy/* /var/www/html/
                </div>
            </div>
            <div class="step-content">
                <h4>3.3 è®¾ç½®æ–‡ä»¶æƒé™</h4>
                <div class="code-block">
# è®¾ç½®æ­£ç¡®çš„æƒé™
sudo chown -R www-data:www-data /var/www/html/
sudo chmod -R 755 /var/www/html/
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-title">æ­¥éª¤ 4: æµ‹è¯•é…ç½®</div>
            <div class="step-content">
                <h4>4.1 åŸºæœ¬æµ‹è¯•</h4>
                <p>1. è®¿é—® <code>https://www.mining-depot.com</code></p>
                <p>2. æ£€æŸ¥åœ°å€æ æ˜¯å¦æ˜¾ç¤ºå®‰å…¨é”å›¾æ ‡</p>
                <p>3. æµ‹è¯• <code>http://mining-depot.com</code> é‡å®šå‘</p>
            </div>
            <div class="step-content">
                <h4>4.2 ä½¿ç”¨è¯Šæ–­å·¥å…·</h4>
                <p>1. è®¿é—® <code>https://www.mining-depot.com/ssl-test.html</code></p>
                <p>2. æŸ¥çœ‹è¯¦ç»†çš„SSLçŠ¶æ€æŠ¥å‘Š</p>
                <p>3. ä½¿ç”¨SSL Labsæµ‹è¯•: https://www.ssllabs.com/ssltest/</p>
            </div>
            <div class="step-content">
                <h4>4.3 æ£€æŸ¥Nginxæ—¥å¿—</h4>
                <div class="code-block">
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/error.log

# æŸ¥çœ‹è®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/access.log
                </div>
            </div>
        </div>

        <div class="checklist">
            <h3>ğŸ“‹ Nginxé…ç½®æ£€æŸ¥æ¸…å•</h3>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>SSLè¯ä¹¦å·²æ­£ç¡®å®‰è£…å’Œé…ç½®</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>nginx.conf æ–‡ä»¶å·²ä¸Šä¼ å¹¶é…ç½®æ­£ç¡®</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>ç«™ç‚¹å·²å¯ç”¨ (sites-enabled è½¯é“¾æ¥)</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>Nginxé…ç½®æµ‹è¯•é€šè¿‡ (nginx -t)</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>NginxæœåŠ¡å·²é‡å¯</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>ç½‘ç«™æ–‡ä»¶å·²ä¸Šä¼ åˆ°æ­£ç¡®ç›®å½•</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>æ–‡ä»¶æƒé™è®¾ç½®æ­£ç¡® (www-data:www-data)</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>HTTPSè®¿é—®æ­£å¸¸ï¼Œæ˜¾ç¤ºå®‰å…¨é”å›¾æ ‡</span>
            </div>
            <div class="checklist-item">
                <span class="checklist-icon">â˜</span>
                <span>HTTPè‡ªåŠ¨é‡å®šå‘åˆ°HTTPS</span>
            </div>
        </div>

        <div class="step-card">
            <div class="step-title">å¸¸è§é—®é¢˜è§£å†³</div>
            <div class="step-content">
                <h4>é—®é¢˜1: SSLè¯ä¹¦é”™è¯¯</h4>
                <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
                <p>1. æ£€æŸ¥è¯ä¹¦è·¯å¾„æ˜¯å¦æ­£ç¡®</p>
                <p>2. ç¡®ä¿è¯ä¹¦æ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»</p>
                <p>3. æ£€æŸ¥è¯ä¹¦æ˜¯å¦è¿‡æœŸ</p>
                <div class="code-block">
# æ£€æŸ¥è¯ä¹¦
sudo openssl x509 -in /etc/letsencrypt/live/mining-depot.com/fullchain.pem -text -noout
                </div>
            </div>
            <div class="step-content">
                <h4>é—®é¢˜2: é‡å®šå‘ä¸å·¥ä½œ</h4>
                <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
                <p>1. æ£€æŸ¥ nginx.conf é…ç½®</p>
                <p>2. ç¡®ä¿ server å—é…ç½®æ­£ç¡®</p>
                <p>3. é‡å¯ Nginx æœåŠ¡</p>
            </div>
            <div class="step-content">
                <h4>é—®é¢˜3: 403 Forbidden é”™è¯¯</h4>
                <p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
                <p>1. æ£€æŸ¥æ–‡ä»¶æƒé™</p>
                <p>2. ç¡®ä¿æ–‡ä»¶æ‰€æœ‰è€…æ˜¯ www-data</p>
                <div class="code-block">
sudo chown -R www-data:www-data /var/www/html/
sudo chmod -R 755 /var/www/html/
                </div>
            </div>
        </div>

        <div class="success">
            <h3>âœ… é…ç½®æˆåŠŸæ ‡å¿—</h3>
            <p>å½“Nginx SSLé…ç½®æˆåŠŸåï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿï¼š</p>
            <ul>
                <li>è®¿é—® https://www.mining-depot.com æ˜¾ç¤ºå®‰å…¨é”å›¾æ ‡</li>
                <li>è®¿é—® http://mining-depot.com è‡ªåŠ¨é‡å®šå‘åˆ°HTTPS</li>
                <li>ä¸å†çœ‹åˆ°"ä¸å®‰å…¨"æˆ–"ERR_SSL_PROTOCOL_ERROR"é”™è¯¯</li>
                <li>SSL Labsæµ‹è¯•æ˜¾ç¤ºAçº§è¯„çº§</li>
                <li>Nginxé”™è¯¯æ—¥å¿—ä¸­æ²¡æœ‰SSLç›¸å…³é”™è¯¯</li>
            </ul>
        </div>

        <div class="error">
            <h3>ğŸ†˜ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨</h3>
            <p>è¯·æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š</p>
            <ul>
                <li>Nginxé”™è¯¯æ—¥å¿—: <code>sudo tail -f /var/log/nginx/error.log</code></li>
                <li>SSLè¯ä¹¦çŠ¶æ€: <code>sudo certbot certificates</code></li>
                <li>Nginxé…ç½®æµ‹è¯•: <code>sudo nginx -t</code></li>
                <li>æœåŠ¡çŠ¶æ€: <code>sudo systemctl status nginx</code></li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="/" class="action-button">ğŸ  è¿”å›é¦–é¡µ</a>
            <a href="ssl-test.html" class="action-button">ğŸ§ª SSLæµ‹è¯•</a>
            <a href="https://www.ssllabs.com/ssltest/" target="_blank" class="action-button">ğŸŒ SSL Labsæµ‹è¯•</a>
        </div>
    </div>
</body>
</html>
